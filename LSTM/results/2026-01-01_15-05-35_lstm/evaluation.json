{
  "config": {
    "ticker": "AAPL",
    "start": "2012-01-01",
    "end": "2025-09-01",
    "interval": "1d",
    "horizon": 1,
    "lookback": 60,
    "featureset": "v2",
    "features": [
      "logret_1d",
      "logret_3d",
      "logret_5d",
      "realized_vol_10",
      "bb_pos",
      "rsi_14",
      "macd",
      "macd_sig",
      "macd_diff",
      "vol_z_20",
      "sma_diff"
    ],
    "scaler": "StandardScaler",
    "seed": 42,
    "batch": 64,
    "epochs": 100,
    "cell": "GRU",
    "width1": 32,
    "width2": 16,
    "dropout": 0.1,
    "recurrent_dropout_used": 0.1,
    "ln_layout": "both",
    "lr": 0.0005,
    "loss": "BCE",
    "epsilon_mode": "abs",
    "epsilon": 0.0005,
    "train_csv": "../data/AAPL_1d_2012-01-01_2025-09-01_cls_h1_abs0p0005.csv",
    "features_yaml": "../data/features_v2.yml",
    "wfcv_best_config_source": "..\\results\\2026-01-01_15-04-40_wfcv\\best_config.json",
    "ablations": {
      "shuffle_train": true,
      "no_recurrent_dropout": false,
      "ln_layout": "both",
      "l2_dense": 1e-05
    }
  },
  "features_used": [
    "logret_1d",
    "logret_3d",
    "logret_5d",
    "realized_vol_10",
    "bb_pos",
    "rsi_14",
    "macd",
    "macd_sig",
    "macd_diff",
    "vol_z_20",
    "sma_diff"
  ],
  "calibration": {
    "chosen": "isotonic",
    "paths": {
      "isotonic": "..\\results\\2026-01-01_15-05-35_lstm\\calibrator_isotonic.joblib"
    },
    "val_brier": {
      "raw": 0.24864017525206267,
      "iso": 0.24385042760171688,
      "platt": 0.2487760158503105
    },
    "test_brier": {
      "raw": 0.2542882947202796,
      "candidate": 0.2576225282984263,
      "used": 0.2576225282984263
    }
  },
  "label_resolved_from": {
    "features_yaml": "../data/features_v2.yml",
    "ticker": "AAPL",
    "interval": "1d",
    "start": "2012-01-01",
    "end": "2025-09-01",
    "horizon": 1,
    "mode": "abs",
    "epsilon": 0.0005
  },
  "threshold_selection": {
    "strategy": "max_mcc_with_pos_rate_bounds_centered_on_val_rate",
    "threshold": 0.5,
    "pos_rate_bounds": [
      0.3900221729490022,
      0.5900221729490023
    ],
    "val_pos_rate": 0.49002217294900224,
    "val_mcc": 0.08446931622343055,
    "val_mcc_unbounded": {
      "mcc": 0.11854656560939507,
      "thr": 0.4285714328289032
    },
    "val_youden_j": {
      "J": 0.08750737753294802,
      "thr": 0.49438202381134033
    },
    "test_pred_pos_rate": 0.5420353982300885
  },
  "metrics": {
    "test": {
      "roc_auc": 0.5164556962025316,
      "auprc": 0.5315727363476617,
      "auprc_baseline": 0.5243362831858407,
      "brier": 0.2576225282984263,
      "balanced_accuracy": 0.5334314591306054,
      "mcc": 0.06702094014958217,
      "confusion_matrix": [
        [
          106,
          109
        ],
        [
          101,
          136
        ]
      ],
      "report": {
        "0": {
          "precision": 0.5120772946859904,
          "recall": 0.4930232558139535,
          "f1-score": 0.5023696682464455,
          "support": 215.0
        },
        "1": {
          "precision": 0.5551020408163265,
          "recall": 0.5738396624472574,
          "f1-score": 0.5643153526970954,
          "support": 237.0
        },
        "accuracy": 0.5353982300884956,
        "macro avg": {
          "precision": 0.5335896677511585,
          "recall": 0.5334314591306054,
          "f1-score": 0.5333425104717704,
          "support": 452.0
        },
        "weighted avg": {
          "precision": 0.5346367301569852,
          "recall": 0.5353982300884956,
          "f1-score": 0.5348500381907022,
          "support": 452.0
        }
      }
    },
    "mcc_bootstrap_ci": [
      0.0016422965984655396,
      0.07223262456097568,
      0.14377215014227912
    ]
  },
  "backtest": {
    "n_trades": 245,
    "avg_holding_h": 1,
    "strategy_t": {
      "CAGR": 0.13948281184596878,
      "Sharpe": 0.6212413071282703,
      "final_equity": 1.2932514516550762
    },
    "strategy_t1": {
      "CAGR": 0.10521633050023249,
      "Sharpe": 0.43981254844118556,
      "final_equity": 1.1965456499063687
    },
    "buy_hold": {
      "CAGR": 0.15009415338395127,
      "final_equity": 1.2850928384272648
    }
  },
  "report_notes": {
    "kpi_basis": "entry_t1_no_overlap",
    "entry_t_is_upper_bound": true,
    "pr_auc_baseline_note": "random baseline equals positive rate"
  },
  "backtest_costs": {
    "roundtrip_bps_default": 15.0,
    "slippage_bps_per_leg": 2.0,
    "upper_bound_entry_t": {
      "note": "nicht handelbar",
      "CAGR": 0.20206583281674573,
      "Sharpe": 0.8910714038292092,
      "MaxDD": -0.26041434262826124,
      "final_equity": 1.3897945320732783,
      "exposure": 0.5420353982300885,
      "turnover": 48.0,
      "n_trades": 25,
      "hit_rate": 0.64,
      "median": 0.011739745990863505,
      "iqr": 0.07046216497448565
    },
    "final_kpi_entry_t1": {
      "note": "realistisch, T+1, No-Overlap",
      "CAGR": -0.13810298646502528,
      "Sharpe": -1.2056497533999686,
      "MaxDD": -0.2510050560072604,
      "final_equity": 0.766001259521566,
      "exposure": 0.28761061946902655,
      "turnover": 259.0,
      "n_trades": 130,
      "hit_rate": 0.5076923076923077,
      "median": 0.0003840708338234478,
      "iqr": 0.012983869731825193,
      "CAGR_CI": [
        -0.3289868201368041,
        -0.1381795120219465,
        0.014272994309876693
      ],
      "Sharpe_CI": [
        -2.4451505632549906,
        -1.1986236481176835,
        0.1442087064919084
      ]
    },
    "sensitivity_csv": "../results/2026-01-01_15-05-35_lstm/cost_sensitivity.csv",
    "equity_costed_png": "../results/2026-01-01_15-05-35_lstm/figures/equity_costed.png"
  }
}